<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="j0Rvymo0eEtiXbyPGOaBWOQXvMEs_A9WpdL2cPDwFr8" />










  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="Android,Java,Python,博客">
<meta property="og:type" content="website">
<meta property="og:title" content="我的程序世界">
<meta property="og:url" content="http://febsky.me/index.html">
<meta property="og:site_name" content="我的程序世界">
<meta property="og:description" content="Android,Java,Python,博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我的程序世界">
<meta name="twitter:description" content="Android,Java,Python,博客">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> 我的程序世界 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">我的程序世界</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">今年我23岁了</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      


      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/15/2016-03-15-排序算法概要/" itemprop="url">
                  2016-03-15-排序算法概要
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-15T12:14:42+08:00" content="2016-03-15">
              2016-03-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/15/2016-03-15-排序算法概要/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/15/2016-03-15-排序算法概要/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>首先盗图一张</p>
</blockquote>
<p><img src="http://7xripg.com1.z0.glb.clouddn.com/2016/03/15/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%A6%82%E8%A6%81.jpg" alt=""></p>
<p>【参考文章】   </p>
<p><a href="http://blog.csdn.net/hguisu/article/details/7776068" target="_blank" rel="external">八大排序算法</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/14/2016-03-14-Java初始化顺序/" itemprop="url">
                  2016-03-04-Java初始化顺序
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-14T22:56:59+08:00" content="2016-03-14">
              2016-03-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/14/2016-03-14-Java初始化顺序/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/14/2016-03-14-Java初始化顺序/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Java初始化顺序：</p>
<ol>
<li>继承体系的所有静态成员初始化（先父类，后子类）</li>
<li>父类初始化完成（普通成员的初始化–&gt;构造函数的调用）</li>
<li>子类初始化（普通成员–&gt;构造函数)</li>
</ol>
<p>(按出现的先后顺序)<br>父类–静态变量<br>父类–静态初始化块 </p>
<p> (按出现的先后顺序)<br>子类–静态变量<br>子类–静态初始化块 </p>
<p>(按出现的先后顺序)<br>父类–变量<br>父类–初始化块<br>父类–构造器  </p>
<p>(按出现的先后顺序)<br>子类–变量<br>子类–初始化块<br>子类–构造器  </p>
<p>【参考文章】<br><a href="http://www.cnblogs.com/miniwiki/archive/2011/03/25/1995615.html" target="_blank" rel="external">Java初始化顺序</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/13/2013-03-13-一刹那是多久/" itemprop="url">
                  2013-03-13-一刹那是多久
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-13T21:49:03+08:00" content="2016-03-13">
              2016-03-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/13/2013-03-13-一刹那是多久/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/13/2013-03-13-一刹那是多久/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　在日常生活中，在阅读报章杂志中，我们经常会看到、用到一个词：一刹那。  </p>
<p>　　字典上对于一刹那的解释是：极短的时间，一瞬间。我们也都知道那是一个表示非常快、非常短的概念。那么，一刹那究竟是多长时间呢？</p>
<p>　　一刹那这个词来源于佛典，在《僧只律》中记载着这样一段：</p>
<p>　　“一剎那者为一念，二十念为一瞬，二十瞬为一弹指，二十弹指为一罗预，二十罗预为一须臾，一日一夜有三十须臾。”</p>
<p>　　根据这段文字的描述，我们计算了一下，一昼夜有86400秒，一须臾就是2880秒，一弹指是7.2秒，一瞬间是0.36秒，一刹那只有0.018秒。</p>
<p>　　我们觉得眨眼之间也是一个很快的概念，但和一刹那比起来已经算很长的了，医学上计算人眨一下眼需要0.6秒钟，是一刹那的33倍多哪。</p>
<p>　　所以，一刹那真的是非常非常短暂呀。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/10/2016-03-11-Java数字签名概述/" itemprop="url">
                  2016-03-11-Java数字签名概述
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-10T18:44:11+08:00" content="2016-03-10">
              2016-03-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/加密/" itemprop="url" rel="index">
                    <span itemprop="name">加密</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/10/2016-03-11-Java数字签名概述/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/10/2016-03-11-Java数字签名概述/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/10/2016-03-10-Java消息摘要算法/" itemprop="url">
                  java消息摘要算法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-10T16:41:38+08:00" content="2016-03-10">
              2016-03-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/加密/" itemprop="url" rel="index">
                    <span itemprop="name">加密</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/10/2016-03-10-Java消息摘要算法/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/10/2016-03-10-Java消息摘要算法/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="消息摘要算法"><a href="#消息摘要算法" class="headerlink" title="消息摘要算法"></a>消息摘要算法</h1><font color="red"><strong>大概分为以下三类：</strong></font>

<ul>
<li>MD（Message Digest）</li>
<li>SHA（Secure Hash Algorithm）</li>
<li>MAC（Message Authentication Code）</li>
</ul>
<p>消息摘要算法是为了验证数据的完整性，数字签名的核心算法。</p>
<h1 id="MD算法-128位摘要算法"><a href="#MD算法-128位摘要算法" class="headerlink" title="MD算法(128位摘要算法)"></a>MD算法(128位摘要算法)</h1><p><strong>包括</strong> <code>MD2</code>,<code>MD4</code>,<code>MD5</code></p>
<table>
<thead>
<tr>
<th>算法</th>
<th style="text-align:center">摘要长度</th>
<th style="text-align:right">实现方</th>
</tr>
</thead>
<tbody>
<tr>
<td>MD2</td>
<td style="text-align:center">128</td>
<td style="text-align:right">JDK</td>
</tr>
<tr>
<td>MD4</td>
<td style="text-align:center">128</td>
<td style="text-align:right">Bouncy Castle</td>
</tr>
<tr>
<td>MD5</td>
<td style="text-align:center">128</td>
<td style="text-align:right">JDK</td>
</tr>
</tbody>
</table>
<p><strong>用途</strong></p>
<p>在用户登录系统中可以对密码做MD5运算，数据库保存运算后的16进制字符串表示。</p>
<p>Jdk中的使用列子：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testMd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        String str = <span class="string">"www.febsky.me"</span>;</span><br><span class="line">        MessageDigest messageDigest = MessageDigest.getInstance(<span class="string">"MD5"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">byte</span>[] md5bytes = messageDigest.digest(str.getBytes());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//至于byte数组如何打印可以借助于Apache的commons-codec.jar中的工具类</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="SHA-（安全散列）算法"><a href="#SHA-（安全散列）算法" class="headerlink" title="SHA （安全散列）算法"></a>SHA （安全散列）算法</h1><ul>
<li>固定长度摘要信息</li>
<li>SHA-1、SHA-2（SHA-224，SHA-256、SHA-384、SHA-512）</li>
</ul>
<table>
<thead>
<tr>
<th>算法</th>
<th style="text-align:center">摘要长度</th>
<th style="text-align:right">实现方</th>
</tr>
</thead>
<tbody>
<tr>
<td>SHA-1</td>
<td style="text-align:center">160</td>
<td style="text-align:right">JDK</td>
</tr>
<tr>
<td>SHA-224</td>
<td style="text-align:center">224</td>
<td style="text-align:right">Bouncy Castle</td>
</tr>
<tr>
<td>SHA-256</td>
<td style="text-align:center">256</td>
<td style="text-align:right">JDK</td>
</tr>
<tr>
<td>SHA-384</td>
<td style="text-align:center">384</td>
<td style="text-align:right">JDK</td>
</tr>
<tr>
<td>SHA-512</td>
<td style="text-align:center">512</td>
<td style="text-align:right">JDK</td>
</tr>
</tbody>
</table>
<p>代码实例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testSHA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        String str = <span class="string">"www.febsky.me"</span>;</span><br><span class="line">        MessageDigest messageDigest = MessageDigest.getInstance(<span class="string">"SHA"</span>);</span><br><span class="line"></span><br><span class="line">        messageDigest.update(str.getBytes());</span><br><span class="line">        <span class="keyword">byte</span>[] md5bytes = messageDigest.digest();</span><br><span class="line">        <span class="comment">//至于byte数组如何打印可以借助于Apache的commons-codec.jar中的工具类</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="MAC-算法"><a href="#MAC-算法" class="headerlink" title="MAC 算法"></a>MAC 算法</h1><p>没用过，貌似和加密密钥有关</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/10/2016-03-10-Java实现Base64-加密/" itemprop="url">
                  java使用Base64(加密)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-10T13:24:40+08:00" content="2016-03-10">
              2016-03-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/10/2016-03-10-Java实现Base64-加密/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/10/2016-03-10-Java实现Base64-加密/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="密码学常用术语"><a href="#密码学常用术语" class="headerlink" title="密码学常用术语"></a>密码学常用术语</h1><ul>
<li><strong>明文</strong>：待加密的信息</li>
<li><strong>密文</strong>：经过加密后的明文</li>
<li><strong>加密</strong>：明文转为密文的过程</li>
<li><strong>加密算法</strong>：明文转为密文的转换算法</li>
<li><strong>加密秘钥</strong>：通过加密算法进行加密操作的秘钥</li>
<li><strong>解密</strong>：将密文转为明文的过程</li>
<li><strong>解密算法</strong>：密文转为明文的算法</li>
<li><strong>解密密钥</strong>：通过解密算法进行解密操作的密钥</li>
<li><strong>密码分析</strong>：截获密文者试图通过分析截获的密文从而推断出原来的明文或者密钥的过程</li>
<li><strong>主动攻击</strong>：攻击者非法入侵密码系统，采用伪造、修改、删除等手段向系统注入假消息进行欺   骗。（对密文具有破坏作用）</li>
<li><strong>被动攻击</strong>：对一个保密系统采取截获密文并对其进行分析和攻击。（对密文没有破坏作用）</li>
<li><strong>密码体制</strong>：由明文空间、密文空间、密钥空间、加密算法和解密算法五部分组成。</li>
<li><strong>密码协议</strong>：也称为安全协议，指以密码学为基础的消息交互的通信协议，目的是在网络环境中提供安全的服务。</li>
<li><strong>密码系统</strong>：指用于加密、解密的系统</li>
<li><strong>柯克霍夫原则</strong>：数据的安全基于密钥而不是算法的保密。即系统的安全取决于密钥，对密钥保密，对算法公开。—现代密码学设计的基本原则。</li>
</ul>
<h1 id="Java安全组成"><a href="#Java安全组成" class="headerlink" title="Java安全组成"></a>Java安全组成</h1><ul>
<li>JCA（Java Cryptography Architecture）</li>
<li>JCE（Java Cryptography Extension） 这是个扩展包，像一些DES、AES、RSA等加密算法由它提供。</li>
<li>JSSE（Java Secure Socket Extension）提供基于SSL的加密算法，主要用于网络传输</li>
<li>JAAS（Java Authentication and Authentication Service）</li>
</ul>
<h1 id="相关的java包和类"><a href="#相关的java包和类" class="headerlink" title="相关的java包和类"></a>相关的java包和类</h1><ul>
<li><code>java.security</code>  消息摘要</li>
<li><code>javax.crypto</code>  安全消息摘要，消息认证（鉴别）码</li>
<li><code>java.net.ssl</code> 安全套接字，基于网咯的加解密 例如：HttpsURLConnection、SSLContext</li>
</ul>
<h1 id="第三方java扩展"><a href="#第三方java扩展" class="headerlink" title="第三方java扩展"></a>第三方java扩展</h1><ol>
<li>Bouncy Castle 两种支持（使用）方案：<ul>
<li>配置（修改配置文件）</li>
<li>调用（代码里面动态加载）</li>
</ul>
</li>
<li>Commons Codec<ul>
<li>Apache 提供的</li>
<li>Base64、二进制、十六进制、字符集编码</li>
<li>Url编码/解码</li>
</ul>
</li>
</ol>
<h1 id="Base64算法"><a href="#Base64算法" class="headerlink" title="Base64算法"></a>Base64算法</h1><ul>
<li><p><strong>定义</strong> ： 基于64个字符的编码算法</p>
</li>
<li><p>算法实现</p>
<ol>
<li>JDK的实现</li>
<li>Commons Codec的实现</li>
<li>Bouncy Castle 实现</li>
</ol>
</li>
</ul>
<p>Base64是一种用64个字符来表示任意二进制数据的方法。</p>
<p>用记事本打开exe、jpg、pdf这些文件时，我们都会看到一大堆乱码，因为二进制文件包含很多无法显示和打印的字符，所以，如果要让记事本这样的文本处理软件能处理二进制数据，就需要一个二进制到字符串的转换方法。Base64是一种最常见的二进制编码方法。</p>
<p>Base64的原理很简单，首先，准备一个包含64个字符的数组：</p>
<p><code>[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, ... &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, ... &#39;0&#39;, &#39;1&#39;, ... &#39;+&#39;, &#39;/&#39;]</code><br>然后，对二进制数据进行处理，每3个字节一组，一共是3x8=24bit，划为4组，每组正好6个bit.</p>
<p>这样我们得到4个数字作为索引，然后查表，获得相应的4个字符，就是编码后的字符串。</p>
<p>所以，Base64编码会把3字节的二进制数据编码为4字节的文本数据，长度增加33%，好处是编码后的文本数据可以在邮件正文、网页等直接显示。</p>
<p>如果要编码的二进制数据不是3的倍数，最后会剩下1个或2个字节怎么办？Base64用\x00字节在末尾补足后，再在编码的末尾加上1个或2个=号，表示补了多少字节，解码的时候，会自动去掉。</p>
<font color="red">jdk自带的实现</font>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">"www.febsky.me"</span>;</span><br><span class="line">BASE64Encoder encoder = <span class="keyword">new</span> BASE64Encoder();</span><br><span class="line"></span><br><span class="line">String base64Str = encoder.encode(str.getBytes());</span><br><span class="line">System.out.println(base64Str);</span><br></pre></td></tr></table></figure>
<h1 id="Base64用途"><a href="#Base64用途" class="headerlink" title="Base64用途"></a>Base64用途</h1><ul>
<li>Base64是一种通过查表的编码方法，不能用于加密，即使使用自定义的编码表也不行。</li>
<li>Base64适用于小段内容的编码，比如数字证书签名、Cookie的内容等。</li>
</ul>
<p><strong>【参考文献】</strong><br><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001399413803339f4bbda5c01fc479cbea98b1387390748000" target="_blank" rel="external">base64</a></p>
<p><a href="http://www.ruanyifeng.com/blog/2008/06/base64.html" target="_blank" rel="external">阮一峰</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/08/2016-03-08-深入浅出java多线程/" itemprop="url">
                  深入浅出java多线程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-08T15:28:03+08:00" content="2016-03-08">
              2016-03-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/08/2016-03-08-深入浅出java多线程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/08/2016-03-08-深入浅出java多线程/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1、进程和线程概念"><a href="#1、进程和线程概念" class="headerlink" title="1、进程和线程概念"></a>1、进程和线程概念</h1><hr>
<p><strong>进程的特征</strong></p>
<ol>
<li>程序（任务）的执行过程 <font color="red">是动态的</font></li>
<li>持有资源，这里的资源是指内存（共享内存，共享文件）和线程<font color="red">是资源的载体</font></li>
<li>所以进程是资源的载体，也是线程的载体</li>
</ol>
<p><strong>线程的特征</strong></p>
<ol>
<li>线程是系统中最小的执行单元</li>
<li>同一个进程中可以有多个线程</li>
<li>多个线程共享同一个进程的资源</li>
<li>线程的交互包括<strong><code>互斥</code></strong>和<strong><code>同步</code></strong></li>
</ol>
<h1 id="2、线程详解"><a href="#2、线程详解" class="headerlink" title="2、线程详解"></a>2、线程详解</h1><hr>
<p><img src="http://7xripg.com1.z0.glb.clouddn.com/2016/03/08/Thread%E7%B1%BB%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.png" alt="线程中常用的方法"></p>
<blockquote>
<p>历史是人民群众创造的但是英雄人物可以推动历史的发展</p>
</blockquote>
<p>和线程相关的两个类：  </p>
<ul>
<li>实现<code>Runnable</code>接口  </li>
<li>继承<code>Thread</code> 类</li>
</ul>
<p>举个栗子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class ThreadTesterA implements Runnable &#123;&#10; &#10;    private int counter;&#10; &#10;    @Override&#10;    public void run() &#123;&#10;        while (counter &#60;= 10) &#123;&#10;            System.out.print(&#34;Counter = &#34; + counter + &#34; &#34;);&#10;            counter++;&#10;        &#125;&#10;        System.out.println();&#10;    &#125;&#10;&#125;&#10;&#10;class ThreadTesterB implements Runnable &#123;&#10; &#10;    private int i;&#10; &#10;    @Override&#10;    public void run() &#123;&#10;        while (i &#60;= 10) &#123;&#10;            System.out.print(&#34;i = &#34; + i + &#34; &#34;);&#10;            i++;&#10;        &#125;&#10;        System.out.println();&#10;    &#125;&#10;&#125;&#10; &#10;public class ThreadTester &#123;&#10;    public static void main(String[] args) throws InterruptedException &#123;&#10;        Thread t1 = new Thread(new ThreadTesterA());&#10;        Thread t2 = new Thread(new ThreadTesterB());&#10;        t1.start();&#10;        t1.join(); // wait t1 to be finished&#10;        t2.start();&#10;        t2.join(); // in this program, this may be removed&#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<font color="red">Runnable的方式</font>可以避免Thread方式由于Java但继承特性带来的缺陷；并且<code>Runnable</code>的代码可以被多个线程（Thread实例共享），适合于多个线程处理同一资源的情况。<br><br><br># 3、如何正确停止线程<br><br>1. <del>thread.stop()</del> 这个方法是jdk1.1引入的，但是它会使线程戛然而止。已经废弃。<br>2. thread.interrupt();条件受限，不一定管用<br>3. 正确的方式是使用停止标志 flag：<br><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//军队线程</span></span><br><span class="line"><span class="comment">//模拟作战双方的行为</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//volatile保证了线程可以正确的读取其他线程写入的值</span></span><br><span class="line">	<span class="comment">//可见性 ref JMM， happens-before原则</span></span><br><span class="line">	<span class="keyword">volatile</span> <span class="keyword">boolean</span> keepRunning = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(keepRunning)&#123;</span><br><span class="line">				System.out.println(Thread.currentThread().getName());</span><br><span class="line">				<span class="comment">//让出了处理器时间，重新抢占资源</span></span><br><span class="line">				Thread.yield();</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+<span class="string">"结束了战斗！"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br># 4、<strong>关于中断的一点点小补充：</strong><br><br>如果该线程处在可中断状态下，（调用了xx.wait()，或者Selector.select(),Thread.sleep()等特定会发生阻塞的api），那么该线程会立即被唤醒，同时会受到一个InterruptedException，同时，如果是阻塞在io上，对应的资源会被关闭。如果该线程接下来不执行“Thread.interrupted()方法（不是interrupt），那么该线程处理任何io资源的时候，都会导致这些资源关闭。当然，解决的办法就是调用一下interrupted()，不过这里需要程序员自行根据代码的逻辑来设定，根据自己的需求确认是否可以直接忽略该中断，还是应该马上退出。<br><br>如果该线程处在不可中断状态下，就是没有调用上述api，那么java只是设置一下该线程的interrupt状态，其他事情都不会发生，如果该线程之后会调用行数阻塞API，那到时候线程会马会上跳出，并抛出InterruptedException，接下来的事情就跟第一种状况一致了。如果不会调用阻塞API，那么这个线程就会一直执行下去。除非你就是要实现这样的线程，一般高性能的代码中肯定会有wait()，yield()之类出让cpu的函数，不会发生后者的情况。<br><br><br><font color="red">Thread的interrupt处理的几个方法： </font> 

<ul>
<li>public void interrupt() :  执行线程interrupt事件  </li>
<li>public boolean isInterrupted() : 检查当前线程是否处于interrupt</li>
<li>public static boolean interrupted() ： check当前线程是否处于interrupt，并重置interrupt信息。类似于resetAndGet()</li>
</ul>
<p>其中，interrupt方法是唯一能将中断状态设置为true的方法。静态方法interrupted会将当前线程的中断状态清除，但这个方法的命名极不直观，很容易造成误解，需要特别注意。</p>
<font color="red">理解： </font> 

<ol>
<li>每个线程都有一个interrupt status标志位，用于表明当前线程是否处于中断状态  </li>
<li>一般调用Thread.interrupt()会有两种处理方式<br>遇到一个低优先级的block状态时，比如object.wait(),object.sleep(),object.join()。它会立马触发一个unblock解除阻塞，并throw一个InterruptedException。<br>其他情况，Thread.interrupt()仅仅只是更新了status标志位。然后你的工作线程通过Thread.isInterrrupted()进行检查，可以做相应的处理，比如也throw InterruptedException或者是清理状态，取消task等。  </li>
</ol>
<hr>
<ol>
<li><p>一般Thread编程需要关注interrupt中断不？一般怎么处理？可以用来做什么？<br>答： interrupt用途： unBlock操作，支持任务cancel， 数据清理等。</p>
</li>
<li><p>Thread.interrupt()方法和InterruptedException异常的关系？是由interrupt触发产生了InterruptedException异常？<br>答： Thread.interrupt()只是在Object.wait() .Object.join(), Object.sleep()几个方法会主动抛出InterruptedException异常。而在其他的的block常见，只是通过设置了Thread的一个标志位信息，需要程序自我进行处理。</p>
</li>
<li>Thread.interrupt()会中断线程什么状态的工作？ RUNNING or BLOCKING？<br>答：Thread.interrupt设计的目的主要是用于处理线程处于block状态，比如wait(),sleep()状态就是个例子。但可以在程序设计时为支持task cancel，同样可以支持RUNNING状态。比如Object.join()和一些支持interrupt的一些nio channel设计。</li>
</ol>
<p>#5、争用条件（RaceCondition）</p>
<p><font color="red">概念：  </font><br>当多个线程同事共享访问同一数据（内存区域）时，每个线程都尝试操作该数据，从而导致数据被破坏（corrupted），这种现象称为争用条件。</p>
<p><strong>线程之间的关系大致可以分为两类  </strong></p>
<ol>
<li>线程之间通过对资源的竞争，包括共享的数据和硬件资源，所产生的相互制约关系，这类线程间的主要问题是互斥和死锁问题，这类关系被称为<code>互斥关系</code>。</li>
<li>线程之间的相互协同合作，彼此之间直接知道对方的存在，并了解对方的名字，这类进程常常需要通过“进程间通信”方法来协同工作，这类关系被称为<code>同步关系</code>。</li>
</ol>
<p><code>wait()</code>休眠自身线程，等待被唤醒。这个方法是<code>Object</code>类的方法。</p>
<h1 id="6、线程的生命周期"><a href="#6、线程的生命周期" class="headerlink" title="6、线程的生命周期"></a>6、线程的生命周期</h1><p><img src="http://7xripg.com1.z0.glb.clouddn.com/2016/03/11/%E7%BA%BF%E7%A8%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE.png" alt="线程生命周期图"></p>
<p><font color="red"><strong>就绪</strong>：</font>创建了线程对象之后，调用了线程的start()方法（此时线程只是进入了线程队列，等待获取CPU服务，具备了运行的条件，但并不一定已经开始运行。）</p>
<p><font color="red"><strong>运行</strong>：</font>处于就绪状态的线程，一旦获取了CPU资源，便进入到了运行状态，开始执行run()方法里面的逻辑。</p>
<p><font color="red"><strong>终止</strong>：</font>线程的run()方法执行完毕。</p>
<p><font color="red"><strong>阻塞</strong>：</font>一个正在执行的线程在某些情况下，由于某种原因而暂时让出了CPU资源，暂停了自己的执行，便进入了阻塞状态，如调用sleep()方法。</p>
<h1 id="7、守护线程"><a href="#7、守护线程" class="headerlink" title="7、守护线程"></a>7、守护线程</h1><p><strong>概念</strong>：运行在后台，为其他前台线程服务<br><strong>特点</strong>：一旦所有的用户线程都结束运行守护线程会随JVM一起结束工作<br><strong>应用</strong>：数据库连接池中的检测线程；JVM虚拟机启动后的检测线程;垃圾回收线程<br><strong>运用方式</strong> ：通过调用Thread类的setDaemon(true)方法来设置当前线程为守护线程。</p>
<blockquote>
<p>注意：<code>setDaemon(true)</code>必须在<code>start()</code>方法之前调用；在守护线程中开启的线程也是守护线程；守护线程中不能处理读写操作；</p>
</blockquote>
<h1 id="8、Java线程查看工具"><a href="#8、Java线程查看工具" class="headerlink" title="8、Java线程查看工具"></a>8、Java线程查看工具</h1><p><code>jstack</code>:位于jdk安装目录下的bin目录下</p>
<p><strong>作用</strong>：生成当前时刻线程的快照（threaddump，即当前进程中所有线程的信息）</p>
<p><strong>参考文献</strong><br><a href="http://agapple.iteye.com/blog/970055" target="_blank" rel="external">java线程阻塞中断和LockSupport的常见问题</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/06/2016-03-06-MacOS中的tree命令/" itemprop="url">
                  MacOS中的tree命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-06T15:15:05+08:00" content="2016-03-06">
              2016-03-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/MacOs/" itemprop="url" rel="index">
                    <span itemprop="name">MacOs</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/06/2016-03-06-MacOS中的tree命令/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/06/2016-03-06-MacOS中的tree命令/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="最简单的方式"><a href="#最简单的方式" class="headerlink" title="最简单的方式"></a>最简单的方式</h1><hr>
<p>安装<code>homebrew</code></p>
<p>然后<code>brew install tree</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/06/2016-03-06-Bt种子和磁力链接/" itemprop="url">
                  Bt种子和磁力链接
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-06T00:24:13+08:00" content="2016-03-06">
              2016-03-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/网络/" itemprop="url" rel="index">
                    <span itemprop="name">网络</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/06/2016-03-06-Bt种子和磁力链接/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/06/2016-03-06-Bt种子和磁力链接/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="什么事Bt下载"><a href="#什么事Bt下载" class="headerlink" title="什么事Bt下载"></a>什么事Bt下载</h1><hr>
<p>BT是目前最热门的下载方式之一，它的全称为“BitTorrent”简称“BT”，中文全称“比特流”。BT服务器是通过一种传销的方式来实现文件共享的，它的工作原理。举个例子来说吧，例如BT服务器将一个文件分成了N个部分，有甲、乙、丙、丁四位用户同时下载，那么BT并不会完全从服务器下载这个文件的所有部分，而是根据实际情况有选择地从其他用户的机器中下载已下载完成的部分。例如甲已经下载了第1部分，乙已经下载了第2部分，那么丙就会从甲的机器中下载第1部分，从乙的机器中下载第2部分，当然甲、乙、丁三位用户也在同时从丙的机器中下载相应的部分，这就大大减轻了BT服务器的负荷，也同时加快了丙的下载速度，也就是说每台参加下载的计算机既从其他用户的计算机上下载文件，同时自身也向其他用户提供下载，因此参与下载的用户数量越多，下载速度也越高。 </p>
<p>那BT的“命门”在哪呢？也许你听说过BT Traker服务器。而这个BT Traker服务器也就是目前我朝有司大力打击BT下载站的重要和主要罪证之一，因为这个服务器的存在，且不管技术手段如何，从表面特征上看来，这些网站如同直接提供视频内容一样。</p>
<p>用户是怎样通过BT下载文件的？基本过程应该是这样：一、找到Torrent文件，二、使用BT下载客户端软件打开这个文件。三、对于用户来讲，只要花时间去等就可以了。而对于客户端软件来讲，它会根据Torrent文件中的网址自动连接Tracker服务器，从它那里接收到其他正在下载该文件的人的网址名单。下一步，软件就一一与名单上的网址取得联系，从它们那里获取文件的片段，直到整个下载完成。从整个过程不难看出，BT Tracker服务器是一个中央节点，任何客户端都可以在其上找到“同伴”——只要其他人也在下载或分享同一个文件。所以MPAA和RIAA盯上了BT Tracker，因为消灭所有Torrent文件几乎是不可能的，但通过一些“努力”，消灭BT Tracker服务器则完全有可能实现。官司赢了，一个时代结束了，我们不妨称其为是BT1.0时代，BT1.0时代致命的缺点是因为其存在中央节点，也就是BTTracker服务器。然而，官司输了，并不代表整个BT时代的终结，一个新的时代已经悄然开始，我们可以称其为BT2.0时代。</p>
<h1 id="什么是磁力链接？"><a href="#什么是磁力链接？" class="headerlink" title="什么是磁力链接？"></a>什么是磁力链接？</h1><hr>
<p>  简单地说，磁力链接是一种特殊链接，但是它与传统基于文件的位置或名称的普通链接不一样，它只是通过不同文件内容的Hash结果生成一个纯文本的“数字指纹”，并用它来识别文件。它类似于生活消费品包装上常见的条码，不同的是这个“数字指纹”可以被任何人从任何文件上生成，这也就注定了“磁力链接”不需要任何“中心机构”的支持（例如：BT Tracker服务器），且识别准确度极高。因此任何人都可以生成一个Magnet链接并确保通过该链接下载的文件准确无误。更简单地说：类似【magnet:xt=urn:sha1:YNCKHTQCWBTRNJIV4WNAE52SJUQCZO5C】这样以“magnet:?”开头的字符串，就是一条“磁力链接”，其在网页上的图标像一块磁铁，很容易辨别。</p>
<p>　　在BT2.0时代，Magnet（意译：磁铁、吸铁石）成为未来BT的发展方向，Magnet真的可以挽救BT吗？经笔者亲身试用，在支持Magnet URI之后，海盗湾似乎获得了新生，下载速度并非越来越慢，相反，速度表现让人满意。最关键的是，Magnet不需要Tracker服务器，也不需要Torrent文件，仅需要一串字符就可以进行文件下载。海盗湾LOGO与未来BT的“图腾”，海盗湾上的BT资源已经加入了Magnet下载方式Worlds most resilient tracking——节选自海盗湾博客博文的题目是“世界上最稳定的tracking”，文中提到：“随着DHT+ PEX技术的不断成熟，发现对端（Peer）并协调通信已经变得容易实现，而Tracker服务器变得不再重要，甚至显得有些多余，所以我们将关闭服务器。”文中还说服务器现在被安置在了一家博物馆中。看来，关闭Tracker服务器是计划之内的事情。一切尽在掌握？Tracker服务器和“BT种子”即将双双退役，取而代之的是DHT+ PEX网络和Magnet Link，DHT网络是分布式存在的，所以不存在“被拔线”的问题，而Magnet Link仅是一串字符，所以也不再需要Torrent文件。<br>　　<br>　　这里出现了三个关键词：DHT、PEX和Magnet Link，这三点是未来BT的核心，下面我们就来说一说它们都可以实现怎样的功能。<br>　　<br>　　DHT：2002年，纽约大学的两个教授Petar Maymounkov和David Mazières发表了一篇论文，提出了一种真正<code>去中心化</code>的“点对点”下载模型，他们将其称为Kademlia方法。2005年，BT软件开始引入这种技术，在BT中被称为DHT协议（Distributed HashTable，分布式哈希表）。DHT是一种分布式存储方法。DHT的作用是找到那些与本机正在下载（上传）相同文件的对端主机（Peer），当然，实现这一过程并不依赖Tracker服务器。在DHT网络中的每个客户端负责一个小范围的路由，并负责存储一小部分数据，从而实现整个DHT网络的寻址和存储。这种信息获取方式保证了整个网络没有单个的中心，即使一个节点下线，依然可以通过其他节点来获取文件，因此也就不需要Tracker服务器来告诉你，其他节点在什么地方。<br>　　<br>　　PEX：是Peer Exchange的简写，我们可以将其理解为“节点信息交换”。虽然DHT解决了去中心化的问题，但要在没有“中心协调员”（Tracker）的情况下实现高效寻址，就要借助PEX。PEX所提供的功能有点类似于以前的Tracker服务器，但工作方式却非常不同，我们可以打个比方来说明。小赵在A班，她不认识B班的小何，也不认识C班的小温，但小赵认识同班的小王，而小王认识B班的小何，也可能还认识C班的小温，或者小王仅认识B班的小何，但小何认识C班的小温，而小温又认识同班的所有同学，结果就是小赵可以“无限”地延伸自己的关系网，不管怎样，总有一条沟通途径可以将这些同学联系在一起，待小赵“认识”了小温后，他们就可以直接沟通了，在P2P世界里，就是进行上传与下载。</p>
<p>Magnet links：有网友将其称为磁链。DHT+ PEX解决了BT“寻址”的问题，但是如何告诉BT客户端找（寻）什么又是另外一个问题。在Torrent文件中包含的内容就是用户真正要下载的文件的特征信息，或称为“电子指纹”，BT客户端知道了要找什么，也知道如何去找，于是P2P方式的下载、上传就实现了。以前BT客户端通过Torrent文件得知“要找什么”，现在，文件的“电子指纹”不再存放于Torrent中，而被放在了Magnetlinks中。 magnet:?xt=urn:btih:36684b463ca2aa2f9347b18e9f6b1a9090bdb073上面是笔者打算下载的一个文件，Microsoft iSCSI Initiator，按照以前的方式，我们需要下载它的Torrent文件，然后才能下载这个文件本身。但是，在新的模式下，我们不需要下载Torrent文件，只需知道它的Magnet URI，一个资源定位信息，其他都不需要(其实是其输入magnet 后，其不会直接下载文件，而还是先下载其种子，然后软件自动下载文件)。只要把这个地址告诉下载软件，软件就会开始自动下载。我们来分解一下这个地址：magnet：协议名。xt:exact topic的缩写，表示资源定位点。BTIH（BitTorrent Info Hash）表示哈希方法名，这里还可以使用SHA1和MD5。这个值是文件的标识符，是不可缺少的。dn：display name的缩写，表示向用户显示的文件名。这是一个可选项。tr：tracker的缩写，表示tracker服务器的地址。这是一个可选项，本例中并未出现。精简一下上例，仅需要magnet:?xt=urn:btih:36684b463ca2aa2f9347b18e9f6b1a9090bdb073就够用了，如果附加dn(displayname)，在使用上会更加方便一些。MagnetLink的好处就不用笔者多说了，至少包括两点：网络的可靠性得到了极大的增强；不存在“被拔线”的风险。由于不存在所谓的中央节点，审查将变得更加困难，“单点失效”的问题也就不存在了。此外，MagnetURI只是一个字符串，非常容易传播，根本无法禁止。因此，Magnet URI取代Tracker模式将是大势所趋，迟早会成为主流BT下载方式。　</p>
<h1 id="bencode-编码"><a href="#bencode-编码" class="headerlink" title="bencode 编码"></a>bencode 编码</h1><hr>
<p>在解析bt文件之前，我们先介绍 bencode 这种编码格式，因为 bt 种子文件，包括以后的 DHT 网络中，都是用这种编码的。网上有很多介绍，这里简单再重复一遍。bencode 有 4 种数据类型: string, integer, list 和 dictionary。整数以i标记开头以e标记结尾，中间是整数数字，字符串以：标记开头然后根接字符串的长度，最后是字符串内容，列表以l标记开头，以e结尾，字典以d开头以e结尾。列表可以包含任何的BT元素，字典也可以包含任何的BT元素，不过字典的Key必须是字符串。</p>
<p>如此以来分析，整数和字符串是两种单元的元素，可以很好的解析，基本上不用分析就能搞定，而列表和字典，则就需要根据给定的字符串进行分析处理了，这个分析实际上也简单，先碰到开头的标记，然后不断的往下判断读取，碰到结尾标记e结束，如果在碰到结尾标记之前还又碰到其他的标记，则可进行递归处理，所以，处理起来也方便了。</p>
<ol>
<li><p><strong>string</strong></p>
<p> 字符是以这种方式编码的: &lt;字符串长度&gt;:&lt;字符串&gt;。</p>
<p> 如 hell: <code>4:hell</code></p>
</li>
<li><p><strong>integer</strong></p>
<p> 整数是一这种方式编码的: i&lt;整数&gt;e。</p>
<p> 如 1999: <code>i1999e</code></p>
</li>
<li><p><strong>list</strong></p>
<p> 列表是一这种方式编码的: l[数据1][数据2][数据3][…]e。</p>
<p> 如列表 [hello, world, 101]：<code>l5:hello5:worldi101ee</code></p>
</li>
<li><p><strong>dictionary</strong></p>
<p> 字典是一这种方式编码的: <code>d[key1][value1][key2][value2][…]e</code>，其中 key 必须是 string 而且按照字母顺序排序。</p>
<p> 如字典 {aa:100, bb:bb, cc:200}： <code>d2:aai100e2:bb2:bb2:cci200ee</code></p>
</li>
</ol>
<p>很多语言都有 bencode 的实现，Python 版本可在 pypi 里面找到: <a href="https://pypi.python.org/pypi/bencode/1.0" target="_blank" rel="external">bencode</a></p>
<h1 id="bt文件结构"><a href="#bt文件结构" class="headerlink" title="bt文件结构"></a>bt文件结构</h1><hr>
<blockquote>
<p>根据BitTorrent协议，文件发布者会根据要发布的文件生成提供一个.torrent文件，即种子文件，也简称为“种子”。 种子文件本质上是文本文件，包含Tracker信息和文件信息两部分。Tracker信息主要是BT下载中需要用到的Tracker服务器的地址和针对Tracker服务器的设置，文件信息是根据对目标文件的计算生成的，计算结果根据BitTorrent协议内的Bencode规则进行编码。它的主要原理是需要把提供下载的文件虚拟分成大小相等的块，块大小必须为2k的整数次方（由于是虚拟分块，硬盘上并不产生各个块文件），并把每个块的索引信息和Hash验证码写入种子文件中；所以，种子文件就是被下载文件的“索引”。 下载者要下载文件内容，需要先得到相应的种子文件，然后使用BT客户端软件进行下载。 下载时，BT客户端首先解析种子文件得到Tracker地址，然后连接Tracker服务器。Tracker服务器回应下载者的请求，提供下载者其他下载者（包括发布者）的IP。下载者再连接其他下载者，根据种子文件，两者分别告知对方自己已经有的块，然后交换对方所没有的数据。此时不需要其他服务器参与，分散了单个线路上的数据流量，因此减轻了服务器负担。 下载者每得到一个块，需要算出下载块的Hash验证码与种子文件中的对比，如果一样则说明块正确，不一样则需要重新下载这个块。这种规定是为了解决下载内容准确性的问题。 一般的HTTP/FTP下载，发布文件仅在某个或某几个服务器，下载的人太多，服务器的带宽很易不胜负荷，变得很慢。而BitTorrent协议下载的特点是，下载的人越多，提供的带宽也越多，下载速度就越快。同时，拥有完整文件的用户也会越来越多，使文件的“寿命”不断延长。</p>
</blockquote>
<ol>
<li><p>bt 种子文件是使用 bencode 编码的，整个文件就 dictionary</p>
<ul>
<li><p>文件信息包括文件的公共部分</p>
<p>  piece length, integer, 必选, 每一数据块的长度</p>
<p>  pieces, string, 必选, 所有数据块的 SHA1 校验值</p>
<p>  publisher, string, 可选, 发布者</p>
<p>  publisher.utf-8, string, 可选, 发布者的 UTF-8 编码</p>
<p>  publisher-url, string, 可选, 发布者的 URL</p>
<p>  publisher-url.utf-8, string, 可选, 发布者的 URL 的 UTF-8 编码</p>
</li>
<li><p>如果 bt 种子包含的是单个文件，包含以下内容</p>
<p>  name, string, 必选, 推荐的文件名称</p>
<p>  name.utf-8, string, 可选, 推荐的文件名称的 UTF-8 编码</p>
<p>  length, int, 必选， 文件的长度单位是字节</p>
</li>
<li><p>如果是多文件，则包含以下部分:</p>
<p>  name, string, 必选, 推荐的文件夹名称</p>
<p>  name.utf-8, string, 可选, 推荐的文件名称的 UTF-8 编码</p>
<p>  files, list, 必选, 文件列表，每个文件列表下面是包括每一个文件的信息，文件信息是个字典。</p>
</li>
<li><p>文件字典</p>
<p>  length, int, 必选， 文件的长度单位是字节</p>
<p>  path, string, 必选， 文件名称，包含文件夹在内</p>
<p>  path.utf-8, string, 必选， 文件名称 UTF-8 表示，包含文件夹在内</p>
<p>  filehash，string, 可选， 文件 hash。</p>
<p>  ed2k, string, 可选, ed2k 信息。</p>
</li>
</ul>
</li>
<li><p>info, dictinary, 必选, 表示该bt种子文件的文件信息。</p>
</li>
<li>announce, string, 必选, tracker 服务器的地址</li>
<li>announce-list, list, 可选, 可选的 tracker 服务器地址</li>
<li>creation date， interger， 必选, 文件创建时间</li>
<li>comment， string, 可选, bt 文件注释</li>
<li>created by， string， 可选， 文件创建者。</li>
</ol>
<p>综上，多文件Torrent的结构的树形图为：</p>
<p>Multi-file Torrent<br>├─announce<br>├─announce-list<br>├─comment<br>├─comment.utf-8<br>├─creation date<br>├─encoding<br>├─info<br>│ ├─files<br>│ │ ├─length<br>│ │ ├─path<br>│ │ └─path.utf-8<br>│ ├─name<br>│ ├─name.utf-8<br>│ ├─piece length<br>│ ├─pieces<br>│ ├─publisher<br>│ ├─publisher-url<br>│ ├─publisher-url.utf-8<br>│ └─publisher.utf-8<br>└─nodes</p>
<p>单文件Torrent的结构的树形图为：</p>
<p>Single-File Torrent<br>├─announce<br>├─announce-list<br>├─comment<br>├─comment.utf-8<br>├─creation date<br>├─encoding<br>├─info<br>│ ├─length<br>│ ├─name<br>│ ├─name.utf-8<br>│ ├─piece length<br>│ ├─pieces<br>│ ├─publisher<br>│ ├─publisher-url<br>│ ├─publisher-url.utf-8<br>│ └─publisher.utf-8<br>└─nodes</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/04/2016-03-04-Android中MVC的使用/" itemprop="url">
                  Android中MVC的使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-04T16:26:10+08:00" content="2016-03-04">
              2016-03-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/04/2016-03-04-Android中MVC的使用/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/04/2016-03-04-Android中MVC的使用/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>在本文中看到如何创建一个Android MVC框架(模型-视图-控制器),从而提高了在这个平台上开发水平。<a href="http://mrbool.com/android-mvc-creating-a-model-view-controller-framework-for-android/32335 # ixzz41v9e5mYU" target="_blank" rel="external">原文地址</a></p>
</blockquote>
<p>今天,移动应用程序开发的需求是非常高的。为了让app能有好的竞争力，需要使app有合适的花费和好的质量。</p>
<p>而好的架构的选择是减少开发时间和延长运行时间的保障。</p>
<p>IOS的开发是基于MVC的，这种架构对IOS的开发非常有利。安卓系统不需要任何模型：体系结构的选择和应用程序的质量很大程度上取决于开发人员的经验。</p>
<p>（）</p>
<p>MVC(模型-视图-控制器)是一个标准的软件项目,分离用户界面(View)和业务规则和数据(Model)模型使用一个中介(Controller)连接到视图。</p>
<p>对我们来说最大的好处是MVC的关注点隔离。在MVC模型中的每部分只关注自己的工作：View只关注用户接口（UI），Model只关注数据，controller 在这两者之间发送消息。</p>
<p>controller 为和UI相关的View提供数据模型，controller的任何变化对View来说是透明的，并且UI的改变不会影响到业务逻辑，反之亦然。</p>
<p>设计模式有助于强制开发者使用结构化代码,这样代码变得越来越可控和不易被淘汰。MVC的好处是的分离使得它更容易添加单元测试。</p>
<p>虽然Android中已经使用了MVC的设计模式，比如用xml来写View的方式。但是这种分离并不是我们所真正关心的分离。</p>
<p>为了演示Android中的MVC框架，我们创建一个界面，其中包含一个logo 如Figure 1所示；第二个界面包含一个输入框和一个Button，输入框输入要执行的任务，当点击按钮的时候，任务的值将被添加到数据库中，上面显示任务列表。当从列表中选中一个任务的时候，我们将从数据库中删除这个任务，如Figure2所示。</p>
<p><img src="http://7xripg.com1.z0.glb.clouddn.com/2016/03/04/SplashScreen.jpg" alt="Figure 1 Splash Screen"><br><em>Figure 1 Splash Screen</em></p>
<p><img src="http://7xripg.com1.z0.glb.clouddn.com/2016/03/04/MainScreen.jpg" alt="Figure 2 Main Screen"><br><em>Figure 2 Main Screen</em></p>
<p>下面我们可以看到这个app中的Model的实现，如Listing 1 所示。</p>
<blockquote>
<p><em>Note: The Android has integration with SQLite, a lightweight and powerful database, allowing you to use database normally and its application. A database is only visible to the application that created it. The SQLiteHelper class encapsulates all the creation of a database logic. The onCreate and onUpgrade methods are called automatically by Android when the database needs to be created for the first time or to be updated due to a new version.</em></p>
</blockquote>
<p><strong>Listing 1 MVCModel.java</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.content.ContentValues;</span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.database.Cursor;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteOpenHelper;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">MVCModel</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String DB_NAME = <span class="string">"tasks_db"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TABLE_NAME = <span class="string">"task"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DB_VERSION = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String DB_CREATE_QUERY = <span class="string">"CREATE TABLE "</span> + MVCModel.TABLE_NAME + <span class="string">" (id integer primary key autoincrement, title text not null);"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> SQLiteDatabase database;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> SQLiteOpenHelper helper;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MVCModel</span><span class="params">(<span class="keyword">final</span> Context ctx)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.helper = <span class="keyword">new</span> SQLiteOpenHelper(ctx, MVCModel.DB_NAME, <span class="keyword">null</span>, MVCModel.DB_VERSION) &#123;</span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(<span class="keyword">final</span> SQLiteDatabase db)</span> </span>&#123;</span><br><span class="line">                db.execSQL(MVCModel.DB_CREATE_QUERY);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onUpgrade</span><span class="params">(<span class="keyword">final</span> SQLiteDatabase db, <span class="keyword">final</span> <span class="keyword">int</span> oldVersion, <span class="keyword">final</span> <span class="keyword">int</span> newVersion)</span> </span>&#123;</span><br><span class="line">                db.execSQL(<span class="string">"DROP TABLE IF EXISTS "</span> + MVCModel.TABLE_NAME);</span><br><span class="line">                <span class="keyword">this</span>.onCreate(db);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">this</span>.database = <span class="keyword">this</span>.helper.getWritableDatabase();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addTask</span><span class="params">(ContentValues data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.database.insert(MVCModel.TABLE_NAME, <span class="keyword">null</span>, data);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteTask</span><span class="params">(<span class="keyword">final</span> String field_params)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.database.delete(MVCModel.TABLE_NAME, field_params, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Cursor <span class="title">loadAllTasks</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Log.d(mvcView.APP_TAG, <span class="string">"loadAllTasks()"</span>);</span><br><span class="line">        <span class="keyword">final</span> Cursor c = <span class="keyword">this</span>.database.query(MVCModel.TABLE_NAME, <span class="keyword">new</span> String[]&#123;<span class="string">"title"</span>&#125;, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>下面这个类是这个app中的View 如Listing2所示：</p>
<p><strong>Listing 2.MVCView.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.mrbool.mvc.R;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MVCView</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String APP_TAG = <span class="string">"com.mrbool.mvc"</span>;</span><br><span class="line">    <span class="keyword">private</span> ListView lvTask;</span><br><span class="line">    <span class="keyword">private</span> Button btNewTask;</span><br><span class="line">    <span class="keyword">private</span> EditText etNewTask;</span><br><span class="line">    <span class="keyword">private</span> mvcController controller;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(<span class="keyword">final</span> Bundle bundle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(bundle);</span><br><span class="line">        <span class="keyword">this</span>.setContentView(R.layout.ui_main);</span><br><span class="line">        <span class="keyword">this</span>.controller = <span class="keyword">new</span> mvcController(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>.lvTask = (ListView) <span class="keyword">this</span>.findViewById(R.id.lvTask);</span><br><span class="line">        <span class="keyword">this</span>.btNewTask = (Button) <span class="keyword">this</span>.findViewById(R.id.btNewTask);</span><br><span class="line">        <span class="keyword">this</span>.etNewTask = (EditText) <span class="keyword">this</span>.findViewById(R.id.etNewTask);</span><br><span class="line">        <span class="keyword">this</span>.btNewTask.setOnClickListener(<span class="keyword">this</span>.handleNewTaskEvent);</span><br><span class="line">        <span class="keyword">this</span>.populateTasks();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">populateTasks</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> List&lt;String&gt; tasks = <span class="keyword">this</span>.controller.getTasks();</span><br><span class="line">        Log.d(MVCView.APP_TAG, String.format(<span class="string">"%d found tasks "</span>, tasks.size()));</span><br><span class="line">        <span class="keyword">this</span>.lvTask.setAdapter(<span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>, android.R.layout.simple_list_item_1, tasks.toArray(<span class="keyword">new</span> String[]&#123;&#125;)));</span><br><span class="line">        <span class="keyword">this</span>.lvTask.setOnItemClickListener(<span class="keyword">new</span> OnItemClickListener() &#123;</span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(<span class="keyword">final</span> AdapterView&lt;?&gt; parent, <span class="keyword">final</span> View view, <span class="keyword">final</span> <span class="keyword">int</span> position, <span class="keyword">final</span> <span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">                Log.d(MVCView.APP_TAG, String.format(<span class="string">"task id: %d and position: %d"</span>, id, position));</span><br><span class="line">                <span class="keyword">final</span> TextView v = (TextView) view;</span><br><span class="line">                MVCView.<span class="keyword">this</span>.controller.deleteTask(v.getText().toString());</span><br><span class="line">                MVCView.<span class="keyword">this</span>.populateTasks();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> OnClickListener handleNewTaskEvent = <span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">        <span class="annotation">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(<span class="keyword">final</span> View view)</span> </span>&#123;</span><br><span class="line">            Log.d(APP_TAG, <span class="string">"New Task button added"</span>);</span><br><span class="line">            MVCView.<span class="keyword">this</span>.controller.addTask(MVCView.<span class="keyword">this</span>.etNewTask.getText().toString());</span><br><span class="line">            MVCView.<span class="keyword">this</span>.populateTasks();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStart();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同样下面的代码是App中的controller 如Listing 3所示：</p>
<p><strong> Listing 3 MVCController.java</strong> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.content.ContentValues;</span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.database.Cursor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MVCController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> MVCModel model;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; tasks;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MVCController</span><span class="params">(Context app_context)</span> </span>&#123;</span><br><span class="line">        tasks = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        model = <span class="keyword">new</span> MVCModel(app_context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addTask</span><span class="params">(<span class="keyword">final</span> String title)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> ContentValues data = <span class="keyword">new</span> ContentValues();</span><br><span class="line">        data.put(<span class="string">"title"</span>, title);</span><br><span class="line">        model.addTask(data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteTask</span><span class="params">(<span class="keyword">final</span> String title)</span> </span>&#123;</span><br><span class="line">        model.deleteTask(<span class="string">"title='"</span> + title + <span class="string">"'"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteTask</span><span class="params">(<span class="keyword">final</span> <span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        model.deleteTask(<span class="string">"id='"</span> + id + <span class="string">"'"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteAllTask</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        model.deleteTask(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getTasks</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Cursor c = model.loadAllTasks();</span><br><span class="line">        tasks.clear();</span><br><span class="line">        <span class="keyword">if</span> (c != <span class="keyword">null</span>) &#123;</span><br><span class="line">            c.moveToFirst();</span><br><span class="line">            <span class="keyword">while</span> (c.isAfterLast() == <span class="keyword">false</span>) &#123;</span><br><span class="line">                tasks.add(c.getString(<span class="number">0</span>));</span><br><span class="line">                c.moveToNext();</span><br><span class="line">            &#125;</span><br><span class="line">            c.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tasks;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一个APP的Splash 会停留一段时间，在这段时间内app会做一些初始化操作，与此同时用户屏幕上会有图片和提示信息。</p>
<p>下面是我们app中的Splash页面，也就是启动界面，代码如Listing 4所示<br><strong>Listing 4 MVCSplash.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MVCSplash</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">        setContentView(R.layout.ui_splash);</span><br><span class="line"></span><br><span class="line">        Thread timer = <span class="keyword">new</span> Thread() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                    Intent intent = <span class="keyword">new</span> Intent</span><br><span class="line">                            (<span class="string">"com.mrbool.MVC.MVCView"</span>);</span><br><span class="line">                    startActivity(intent);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        timer.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>AndroidManifest.xml 是Android应用中最基础的，很多项目的配置都在这个文件中。如下是我们app的AndroidManifest.xml 文件，代码如Listing5所示：</p>
<p><strong>Listing 5 AndroidManifest.xml </strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">manifest</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span> <span class="attribute">package</span>=<span class="value">"com.mrbool.mvc"</span></span><br><span class="line">    <span class="attribute">android:versionCode</span>=<span class="value">"1"</span> <span class="attribute">android:versionName</span>=<span class="value">"1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-sdk</span> <span class="attribute">android:minSdkVersion</span>=<span class="value">"8"</span> <span class="attribute">android:targetSdkVersion</span>=<span class="value">"19"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">application</span> <span class="attribute">android:allowBackup</span>=<span class="value">"true"</span> <span class="attribute">android:icon</span>=<span class="value">"@drawable/ic_launcher"</span></span><br><span class="line">        <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span> <span class="attribute">android:theme</span>=<span class="value">"@style/AppTheme"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">"com.mrbool.mvc.MVCView"</span> <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"com.mrbool.mvc.MVCView"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">".MVCSplash"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.MAIN"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.LAUNCHER"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">application</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Android 图形界面创建非常的灵活，既可以用XML的方式也可以直接用JavaAPI在代码中创建，推荐使用XMl这种方式创建的界面更干净，我们app中用到的布局XML如下所示Listing 6 和7：</p>
<p><strong>Listing 6.ui_main.xml</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">RelativeLayout</span> <span class="attribute">xmlns:android</span>=</span><br><span class="line">    "<span class="attribute">http:</span>//<span class="attribute">schemas.android.com</span>/<span class="attribute">apk</span>/<span class="attribute">res</span>/<span class="attribute">android</span>"</span><br><span class="line"></span><br><span class="line">    <span class="attribute">android:id</span>=<span class="value">"@+id/widget31"</span></span><br><span class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span></span><br><span class="line">    <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span> &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">TableRow</span></span><br><span class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/row"</span></span><br><span class="line">        <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span></span><br><span class="line">        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></span><br><span class="line">        <span class="attribute">android:layout_alignParentLeft</span>=<span class="value">"true"</span></span><br><span class="line">        <span class="attribute">android:layout_below</span>=<span class="value">"@+id/lvTask"</span></span><br><span class="line">        <span class="attribute">android:orientation</span>=<span class="value">"horizontal"</span> &gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="title">EditText</span></span><br><span class="line">            <span class="attribute">android:id</span>=<span class="value">"@+id/etNewTask"</span></span><br><span class="line">            <span class="attribute">android:layout_width</span>=<span class="value">"200dp"</span></span><br><span class="line">            <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></span><br><span class="line">            <span class="attribute">android:text</span>=<span class="value">""</span></span><br><span class="line">            <span class="attribute">android:textSize</span>=<span class="value">"18sp"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">EditText</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="title">Button</span></span><br><span class="line">            <span class="attribute">android:id</span>=<span class="value">"@+id/btNewTask"</span></span><br><span class="line">            <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span></span><br><span class="line">            <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></span><br><span class="line">            <span class="attribute">android:text</span>=<span class="value">"@string/add_button_name"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">Button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">TableRow</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">ListView</span></span><br><span class="line">        <span class="attribute">android:id</span>=<span class="value">"@+id/lvTask"</span></span><br><span class="line">        <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span></span><br><span class="line">        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span></span><br><span class="line">        <span class="attribute">android:layout_alignParentLeft</span>=<span class="value">"true"</span></span><br><span class="line">        <span class="attribute">android:layout_alignParentTop</span>=<span class="value">"true"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">ListView</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Listing 7 ui_splash.xml</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span> <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span></span><br><span class="line">    <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">ImageView</span> <span class="attribute">android:id</span>=<span class="value">"@+id/placekitten"</span> <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span></span><br><span class="line">        <span class="attribute">android:layout_height</span>=<span class="value">"fill_parent"</span> <span class="attribute">android:src</span>=<span class="value">"@drawable/splash"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>最后呢，把app中用到的字符串常量放到string.xml 中是个良好的编程习惯。我们的string.xml 如下所示：</p>
<p><strong>Listing 8 strings.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span> <span class="attribute">name</span>=<span class="value">"app_name"</span>&gt;</span>Creating an MVC (Model-View-Controller) framework for Android<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span> <span class="attribute">name</span>=<span class="value">"action_settings"</span>&gt;</span>Settings<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span> <span class="attribute">name</span>=<span class="value">"add_button_name"</span>&gt;</span>New Task<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/my_self_photo.jpeg"
               alt="Qiang" />
          <p class="site-author-name" itemprop="name">Qiang</p>
          <p class="site-description motion-element" itemprop="description">Android,Java,Python,博客</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">14</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>
          
          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/niyingxunzong/" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/p/1005053508293764" target="_blank">
                  
                    <i class="fa fa-weibo"></i> Weibo
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qiang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  


  



  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"febsky"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  

  
  


</body>
</html>
